(function(n){var t={company:{10001:"公司名称不能为空",10002:"公司名称格式不对"},contact:{10001:"名称不能为空",10002:"名称格式不对",10003:"手机号不能为空",10004:"手机号格式不对"},contact_people:{0:"请选择",1:"配偶",2:"父母",3:"兄弟姐妹",4:"子女"},zname:{10001:"真实名称不能为空",10002:"名称格式不对"}};n(function(){n(".pwdTip input").eq(0).blur(function(){n(".pwdTip input").eq(1).val(n(this).val())}),n(".pwdTip  input").eq(1).blur(function(){n(".pwdTip  input").eq(0).val(n(this).val())}),n("input[name='username']").blur(function(){e.username(this.value)}),n("input[name='authcode']").blur(function(){e.authcode(this.value)}),n("input[name='password']").blur(function(){e.pwd(this.value)}),n("input[name='passwordrepeat']").blur(function(){e.pwd(this.value,1)}),n("input[name='phone']").blur(function(){e.phone(this.value)}),n("input[name='zname']").blur(function(){e.zname(this.value,"zname")}),n("input[name='code']").blur(function(){e.code(this.value)}),n("input[name='comname']").blur(function(){e.zname(this.value,"company")}),n("input[name='comtell']").blur(function(){e.tell(this.value)}),n("input[name='email']").blur(function(){e.email(this.value)}),n("input[name='verification ']").blur(function(){e.isnull(this.value,"公司联系电话不能为空")}),n("input[name='connamef']").blur(function(){e.zname(this.value,"contact")}),n("input[name='connames']").blur(function(){e.zname(this.value,"contact")}),n("input[name='comtellf']").blur(function(){e.phone(this.value)}),n("input[name='comtells']").blur(function(){e.phone(this.value)}),n(".t-login-button").click(function(){e.lockup();var t=n("input[name='phone']").val(),a=n("input[name='password']").val();return 1!=e.phone(t)?(e.unlock(),!1):1!=e.pwd(a)?(e.unlock(),!1):(n.ajax({url:dologinurl,type:"POST",data:{phone:t,password:a},dataType:"json",async:!0,beforeSend:function(){},success:function(n){return n.status!==!0?(e.waring(n.msg),e.unlock(),!1):(e.unlock(),e.tips(),location.href=seajs.data.vars.jumpUrl,void 0)},error:function(){return e.unlock(),e.tips("表单发送失败！"),!1}}),void 0)}),n(".quit").click(function(){n.ajax({url:dooutloginurl,type:"POST",data:"",dataType:"json",async:!1,beforeSend:function(){e.lockup()},success:function(n){n.status===!0?(e.unlock(),e.tips()):(e.waring(n.msg),e.unlock())},error:function(){e.unlock(),e.tips("网络错误！")}})}),n(".invitation").click(function(){n(".invitationcode").is(":hidden")?(n(".down").addClass("up"),n(".down").removeClass("down")):(n(".up").addClass("down"),n(".up").removeClass("up"),n("input[name='invitecode']").val("")),n(".invitationcode").slideToggle("slow")}),n(".t-red-register").click(function(){e.lockup();var t=n("input[name='phone']").val(),a=n("input[name='password']").val(),r=n("input[name='authcode']").val(),i=n("input[name='invitecode']").val(),u=n("#checkbox_a1").is(":checked");return 1!=e.phone(t)?(e.unlock(),!1):1!=e.aggreement(u)?(e.unlock(),!1):1!=e.pwd(a)?(e.unlock(),!1):1!=e.authcode(r)?(e.unlock(),!1):e.isnull()||1==e.is_number(i,"邀请码格式错误")?(n.ajax({url:registerurl,type:"POST",data:{phone:t,password:a,authcode:r,aggreement:u,invitecode:i},dataType:"json",async:!0,beforeSend:function(){},success:function(n){return 1!=n.status?(e.waring(n.msg),e.unlock(),!1):(e.unlock(),e.tips(),location.href="/",void 0)},error:function(){return e.unlock(),e.waring("表单校验失败"),!1}}),void 0):(e.unlock(),!1)});var t=60;n(".t-pwd-code").click(function(){var a=n("input[name='phone']").val();return 1!=e.phone(a)?!1:(timer=setInterval(function(){t--,t>0?(n(".t-pwd-code").text(t+"秒后重发"),n(".t-pwd-code").attr("disabled","disabled"),n(".t-pwd-code").addClass("t-gray")):(n(".t-pwd-code").text("重发验证码"),n(".t-pwd-code").removeAttr("disabled"),n(".t-pwd-code").removeClass("t-gray"),clearInterval(timer))},1e3),n.ajax({url:sendcodeurl,type:"POST",data:{phone:a},dataType:"json",async:!0,success:function(t){return 1==t.status?(e.tips(),!0):(e.waring(t.msg),n(".t-pwd-code").text("重发验证码"),n(".t-pwd-code").removeAttr("disabled"),clearInterval(timer),!1)},error:function(){return e.waring("手机校验失败"),n(".t-pwd-code").text("重发验证码"),n(".t-pwd-code").removeAttr("disabled"),clearInterval(timer),!1}}),void 0)}),n(".button_backpwd").click(function(){e.lockup();var t=n("input[name='phone']").val(),a=n("input[name='authcode']").val();return 1!=e.phone(t)?(e.unlock(),!1):1!=e.authcode(a)?(e.unlock(),!1):(n.ajax({url:dobackpwdurl,type:"POST",data:{phone:t,authcode:a},dataType:"json",async:!0,beforeSend:function(){},success:function(n){return e.unlock(),1==n.status?(location.href="/Login/ResetPwd",e.unlock(),e.tips(),!0):(e.waring(n.msg),e.unlock(),!1)},error:function(){return e.unlock(),e.tips("网络错误！"),!1}}),void 0)}),n(".resetpwd_submit").click(function(){e.lockup();var t=n("input[name='password']").val(),a=n("input[name='passwordrepeat']").val();return 1!=e.pwd(t)?(e.unlock(),!1):1!=e.pwd(a,1)?(e.unlock(),!1):(n.ajax({url:resetpwdurl,type:"POST",data:{password:t,passwordrepeat:a},dataType:"json",async:!1,beforeSend:function(){},success:function(t){return t.status===!0?(e.unlock(),e.tips(),n("#t-box_alert").css("display","block"),!0):(e.waring(t.msg),e.unlock(),!1)},error:function(){return e.unlock(),e.tips("网络错误！"),!1}}),void 0)}),n("#companyForm").submit(function(){return alert(a.comname["10001"]),!1})});var e={username:function(t){t=n.trim(t);var a=/^(13\d|14[57]|15[012356789]|18\d|17[013678])\d{8}$/;return""==t||null==t?(e.waring("请输入手机号/用户名"),!1):t.match(a)?(e.tips(),!0):(e.waring("用户名是手机号"),!1)},isnull:function(t,a){var t=n.trim(t);return""==t?(e.waring(a),!1):(e.tips(),!0)},tell:function(t){var t=n.trim(t),a=/^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$/;return""==t?(e.waring("请输入号码"),!1):t.match(a)?(e.tips(),!0):(e.waring("号码格式不正确，请重新输入"),!1)},email:function(t){var t=n.trim(t),a=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;return""==t?(e.waring("请输入邮箱"),!1):t.match(a)?(e.tips(),!0):(e.waring("邮箱格式不正确，请重新输入"),!1)},is_number:function(t,a){var t=n.trim(t),r=/^[0-9]{0,10}$/;return t.match(r)?(e.tips(),!0):(e.waring(a),!1)},phone:function(t){var t=n.trim(t),a=/^(13\d|14[57]|15[012356789]|18\d|17[031678])\d{8}$/;return""==t?(e.waring("请输入手机号码"),!1):t.match(a)?(e.tips(),!0):(e.waring("手机号码格式不正确，请重新输入"),!1)},aggreement:function(n){return n?(e.tips(),!0):(e.waring("请同意协议"),!1)},zname:function(a,r){a=n.trim(a);var i=/^[\u4e00-\u9fa5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*$/;return""==a||null==a?(e.waring(t[r][10001]),!1):a.match(i)?(e.tips(),!0):(e.waring(t[r][10002]),!1)},authcode:function(t){return t=n.trim(t),""==t||null==t?(e.waring("请填写手机验证码"),!1):4!=t.length?(e.waring("请填写正确手机验证码"),!1):(e.tips(),!0)},code:function(t){t=n.trim(t);var a=/^(\d{17}X|\d{18})$/i;return""==t||null==t?(e.waring("身份证账号不能为空"),!1):t.match(a)?(e.tips(),!0):(e.waring("身份证账号格式错误"),!1)},pwd:function(t,a){if(1==a){t=n.trim(t);var r=/^(([a-z]+[0-9]+)|([0-9]+[a-z]+))[a-z0-9]*$/i;return""==t?(e.waring("密码不能为空"),!1):t.match(r)?6>t.length||t.length>16?(e.waring("密码位数不正确"),!1):t!=n("input[name='password']").val()?(e.waring("两次密码不相同！"),!1):(e.tips(),!0):(e.waring("登录密码（6-16位字母数字组合）"),!1)}t=n.trim(t);var r=/^(([a-z]+[0-9]+)|([0-9]+[a-z]+))[a-z0-9]*$/i;return""==t?(e.waring("密码不能为空"),!1):t.match(r)?6>t.length||t.length>16?(e.waring("密码位数不正确"),!1):(e.tips(),!0):(e.waring("登录密码（6-16位字母数字组合）"),!1)},tips:function(){n(".t-error").text("")},waring:function(t){n(".t-error").text(t)},lockup:function(){n(".t-red-btn").addClass("t-gray-btn"),n(".t-red-btn").attr("disabled",!0),n(".t-red-btn").removeClass("t-red-btn"),load=layer.load(2,{shade:!1}),n(".t-mask").show()},unlock:function(){n(".t-gray-btn").addClass("t-red-btn"),n(".t-red-btn").attr("disabled",!1),n(".t-gray-btn").removeClass("t-gray-btn"),layer.close(load),n(".t-mask").hide()}}})(jQuery);